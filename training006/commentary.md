# Vue インスタンスを深く知る
動画講座の内容をもとに、Vueのライフサイクルやインスタンスプロパティなどについて、サンプルコードを作成しました  
動画講座はVue v2 のものなので、v3の仕様との違いに気をつけつつサンプルコードを記述していきました

## 一つのページ内に複数のVueインスタンスを配置する
`CreateApp()` で複数のインスタンスを作り、それぞれ別のDOMへマウントすれば可能  
~~~JavaScript
/* main.js を以下のように記載 */
import { createApp } from 'vue'
import App from './App.vue'
import App2 from './App2.vue'

const app = createApp(App);
const app2 = createApp(App2);
app.mount('#app');
app2.mount('#app2');
~~~

## Vue のリアクティブシステムのしくみ
初期化の際に、コンポーネントの`data()` で設定されたプロパティに対して`get()` と `set()` を設定する  
それによって、プロパティの値が変更されたときにsetを実行し、また値が参照されたときにget を実行するように内部的に処理を行っている  
それによって、データの変更が瞬時に反映されるリアクティブな動作を実現している  
つまり、「初期化の時点でdataとしてプロパティに含められていなかったものは、リアクティブに動作しない」ということになる  
vueでリアクティブに操作したいデータ項目は、data に含めるようにしておく必要がある

## ライフサイクルとフック
インスタンスの生成からマウント、アンマウントまで、それぞれのタイミングで実行させたい処理を記述するためのフックが用意されている  
それぞれのサイクルごとに、それが実行される前に呼び出されるbefore フックもある
vue 2まではインスタンスの削除(destroy)があったが、3では削除された  

## 参考
- Vueインスタンスのライフサイクルダイアグラム  
  https://v3.ja.vuejs.org/guide/instance.html#ライフサイクルダイアグラム

- ライフサイクルフック
  https://v3.ja.vuejs.org/api/options-lifecycle-hooks.html#ライフサイクルフック
